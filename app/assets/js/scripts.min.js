/*!
 * fastshell
 * Fiercely quick and opinionated front-ends
 * https://HosseinKarami.github.io/fastshell
 * @author Hossein Karami
 * @version 1.0.5
 * Copyright 2017. MIT licensed.
 */
var fdf=fdf||{};!function(e,s,a,t){"use strict";function i(){var a=e(s).height()-e("header").outerHeight(!0)-e("footer").outerHeight(!0);e("main > .flexbox-wrapper, main > .set-min-height").css({"min-height":a+"px"}),e("footer").css({opacity:"1"})}function l(s){if(s.files&&s.files[0]){var a=new FileReader;a.onload=function(a){e(".profile-thumbnail img",e(s).closest(".profile-container")).length>0&&e(".profile-thumbnail img",e(s).closest(".profile-container")).attr("src",a.target.result)},a.readAsDataURL(s.files[0])}}e(".language-control").on("click",function(){e(this).toggleClass("arabic");var s=e('<link rel="stylesheet">').attr("href","assets/css/style-ar-sa.min.css"),a=e('<link rel="stylesheet">').attr("href","assets/css/style-en-us.min.css");e(this).hasClass("arabic")?(e("head").append(s),e("head").find('link[href $="style-en-us.min.css"]').remove()):(e("head").append(a),e("head").find('link[href $="style-ar-sa.min.css"]').remove())}),e(function(){i(),e(s).on("resize",i)}),e(".email-field").on("blur",function(){var s=e(this),a=e(this).data("weburl")+"/_vti_bin/FDFAM/Login/Login.svc/CheckEmail?emailid="+e(this).val()+"&weburl="+e(this).data("weburl");e.ajax({url:a,method:"GET",success:function(e){e?s.closest(".form-validate").find(".email-error-box").addClass("visible"):s.closest(".form-validate").find(".email-error-box").removeClass("visible")},error:function(){console.log("error")}})}),e(".action-buttons").on("click",".reset",function(){var s=e(this).closest(".form-validate");s.find("input,textarea,select").each(function(){var s=e(this);s.removeClass("error"),s.is("input,textarea")?s.is('input[type="radio"]')?s.closest(".radiobox").find('input[type="radio"]').eq(0).get(0).checked=!0:s.parent('[data-provide="datepicker"]').length>0?(s.val(""),s.parent('[data-provide="datepicker"]').removeData("datepicker")):s.val(""):s.is("select")&&(s.parent(".custom-select").addClass("not-chosen").removeClass("error"),s.val(s.find("option:first").val()),s.parent().hasClass("entity-type")&&s.attr("disabled",!0).parent().addClass("disabled"))}),s.find("label.error").remove()}),e(".action-buttons").on("click",".prev,.next",function(){var s=e(this);if(s.hasClass("disabled"))return!1;var a=s.closest(".wizard"),t=e(".wizard-link",a),i=e(".wizard-page",a),l=e(this).closest(".form-validate");if(e("html,body").animate({scrollTop:l.offset().top-150},10),e(this).hasClass("next")){var o=fdf.form.validateForm(e(this).closest(".form-validate"));if(!o||l.find(".email-error-box").hasClass("visible"))return!1}var r=t.filter(function(){return e(this).hasClass("active")}).index(),n=e(this).hasClass("prev")?r-1:r+1;if(t.removeClass("active activated").eq(n).addClass("active").prevAll(".wizard-link").addClass("activated"),i.removeClass("active activated"),0===r){var c=a.find(".wizard-pages")[0].getAttribute("data-regTypeIndex");e(".tab-wrappers[data-formIndex="+c+"] .wizard-page").eq(n-1).addClass("active"),i.eq(0).addClass("activated")}else n>0?(s.closest(".tab-wrappers").find(".wizard-page").eq(n-1).addClass("active").prevAll(".wizard-page").addClass("activated"),i.eq(0).addClass("activated")):0===n&&i.eq(n).addClass("active")}),e(a).on("change",'input[type="file"]',function(){var s=e(this).val().replace(/C:\\fakepath\\/i,"");e(this).siblings("input.file-explorer").val(s).removeClass("error"),e(this).siblings(".browse-link").addClass("added"),e(this).hasClass("showthumb")&&l(this)}),e(".choose-type").on("change",function(){var s=e(this),a=s.find("select").val();s.closest(".wizard-pages")[0].setAttribute("data-regTypeIndex",a),s.closest(".wizard-pages").find(".tab-wrappers[data-formindex="+a+"]").addClass("show").siblings(".tab-wrappers").removeClass("show");var t=s.data("weburl")+"/_vti_bin/FDFAM/Login/Login.svc/GetSubtypes?selectedvalue="+a+"&weburl="+s.data("weburl")+"&lcid="+s.data("lcid");e.ajax({url:t,method:"GET",success:function(s){var a=e(".entity-type select").find("option[selected][disabled]")||'<option value=""selected disabled>Select</option>';e(".entity-type").removeClass("disabled").find("select").attr("disabled",!1).html(a),s.forEach(function(s){var a=e("<option value="+s+">"+s+"</option>");e(".entity-type select").append(a)})},error:function(){console.log("error")}})}),e(".custom-select select").on("change",function(){e(this).closest(".custom-select").removeClass("not-chosen")}),e('.radiobox.date-select input[type="radio"]').on("change",function(){var s=e(this).val();console.log(s),e(this).closest(".date-select").siblings(".between-dates,.particular-date").removeClass("visible"),e("."+s).addClass("visible")}),e(".select-award-btn").on("click",function(){e(this).closest("main").find("#select-modal").addClass("visible"),e("body").addClass("modalOpen")}),e(".modal").on("click",".cancel-modal",function(){e(this).closest(".modal").removeClass("visible"),e("body").removeClass("modalOpen")}),e(".modal").on("click",".select-all,.clear-all",function(){var s=e(this),a=e(this).closest(".modal-table"),t=e('input[type="checkbox"]',a);t.each(function(){s.hasClass("select-all")?(console.log(e(this).prop("checked")),e(this).prop("checked",!0)):e(this).prop("checked",!1)})}),e(".modal").on("click",".submit-modal",function(){var s=e(this),a=s.closest(".form-validate"),t=e('input[type="checkbox"]:checked',a);e(this).closest(".modal").removeClass("visible"),e("body").removeClass("modalOpen");var i=e(".selected-awards").html("");t.each(function(){var s=e('<a href="javascript:void(0)" class="gray-button rounded filter-item" />'),a=e('<span class ="text-uppercase"></span>').html(e(this).next("label").text());s.append(a),i.append(s)})}),e(".login-error-box").on("click",".fa-close",function(){e(this).closest(".login-error-box-wrapper").removeClass("visible")}),e(".user-form .login-btn").on("click",function(){var s=e(this).closest(".user-form"),a=!0;return s.find(".required").each(function(){e(this).val().trim().length<=0?(e(this).closest(".form-element").addClass("error"),a=!1):(e(this).closest(".form-element").removeClass("error"),a=a&&!0),e(this).on("blur",function(){e(this).val().trim().length<=0?e(this).closest(".form-element").addClass("error"):e(this).closest(".form-element").removeClass("error")})}),a})}(jQuery,window,document);